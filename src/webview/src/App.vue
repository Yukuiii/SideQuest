<script setup lang="ts">
import { postMessage } from "./utils/vscode";

const menuItems = [
  { id: "novel", icon: "ğŸ“š", label: "é˜…è¯»è€…", desc: "Novel Mode - æ²‰æµ¸å¼é˜…è¯»" },
  { id: "news", icon: "ğŸ“°", label: "æƒ…æŠ¥å‘˜", desc: "News Mode - çƒ­ç‚¹èšåˆ" },
  { id: "market", icon: "ğŸ“ˆ", label: "æ“ç›˜æ‰‹", desc: "Market Mode - ç›¯ç›˜åŠ©æ‰‹" },
];

function handleClick(mode: string) {
  postMessage("selectMode", { mode });
}
</script>

<template>
  <div class="p-4">
    <!-- Welcome -->
    <div class="mt-5 text-center">
      <h2 class="mb-2 font-semibold">Side Quest</h2>
      <p class="mb-4 text-[var(--vscode-descriptionForeground)]">ä¸»çº¿ä»»åŠ¡äº¤ç»™ AIï¼Œæ”¯çº¿ä»»åŠ¡äº¤ç»™ä½ </p>
    </div>

    <!-- Menu -->
    <div class="mt-5 flex flex-col gap-2">
      <button
        v-for="item in menuItems"
        :key="item.id"
        class="flex items-center gap-2.5 rounded-md border-none bg-[var(--vscode-button-secondaryBackground)] p-3 text-left text-[var(--vscode-button-secondaryForeground)] transition-colors duration-200 hover:bg-[var(--vscode-button-secondaryHoverBackground)] cursor-pointer"
        @click="handleClick(item.id)"
      >
        <span class="text-lg">{{ item.icon }}</span>
        <div>
          <div class="font-medium">{{ item.label }}</div>
          <div class="text-xs text-[var(--vscode-descriptionForeground)]">{{ item.desc }}</div>
        </div>
      </button>
    </div>

    <!-- Status -->
    <div class="mt-5 rounded bg-[var(--vscode-textBlockQuote-background)] p-2 text-xs text-[var(--vscode-descriptionForeground)]">
      âš”ï¸ å‡†å¤‡å¼€å¯æ”¯çº¿ä»»åŠ¡...
    </div>
  </div>
</template>

<style>
:root {
  font-family: var(--vscode-font-family, system-ui, sans-serif);
  font-size: var(--vscode-font-size, 13px);
  color: var(--vscode-foreground);
  background: var(--vscode-sideBar-background);
}
</style>
